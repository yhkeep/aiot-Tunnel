webpackJsonp([33],{DoYh:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("bOdI"),n=e.n(o),s=e("9Xvl"),l={name:"iSwitch",mixins:[e("pEmh").a],props:{value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:!1},size:{validator:function(t){return Object(s.m)(t,["large","small","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},name:{type:String},loading:{type:Boolean,default:!1},trueColor:{type:String},falseColor:{type:String},beforeChange:Function},data:function(){return{currentValue:this.value}},computed:{wrapClasses:function(){var t;return["ivu-switch",(t={},n()(t,"ivu-switch-checked",this.currentValue===this.trueValue),n()(t,"ivu-switch-disabled",this.disabled),n()(t,"ivu-switch-"+this.size,!!this.size),n()(t,"ivu-switch-loading",this.loading),t)]},wrapStyles:function(){var t={};return this.trueColor&&this.currentValue===this.trueValue?(t["border-color"]=this.trueColor,t["background-color"]=this.trueColor):this.falseColor&&this.currentValue===this.falseValue&&(t["border-color"]=this.falseColor,t["background-color"]=this.falseColor),t},innerClasses:function(){return"ivu-switch-inner"}},methods:{handleToggle:function(){var t=this.currentValue===this.trueValue?this.falseValue:this.trueValue;this.currentValue=t,this.$emit("input",t),this.$emit("on-change",t),this.dispatch("FormItem","on-form-change",t)},toggle:function(t){var a=this;if(t.preventDefault(),this.disabled||this.loading)return!1;if(!this.beforeChange)return this.handleToggle();var e=this.beforeChange();e&&e.then?e.then(function(){a.handleToggle()}):this.handleToggle()}},watch:{value:function(t){if(t!==this.trueValue&&t!==this.falseValue)throw"Value should be trueValue or falseValue.";this.currentValue=t}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{class:t.wrapClasses,style:t.wrapStyles,attrs:{tabindex:"0"},on:{click:t.toggle,keydown:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"])?null:t.toggle(a)}}},[e("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.currentValue}}),t._v(" "),e("span",{class:t.innerClasses},[t.currentValue===t.trueValue?t._t("open"):t._e(),t._v(" "),t.currentValue===t.falseValue?t._t("close"):t._e()],2)])},staticRenderFns:[]},r=e("VU/8")(l,i,!1,null,null,null).exports,c=e("wdqF"),u=e("bzvv"),p=e("8sRp"),m=e("KxKW"),h=e("JtJ0"),v=e("HYs4"),f=e("NHTL"),_=e("X2sI"),d=e("LuSo"),g=e("yoLw"),D=e("NAz/"),b=e("a84E"),w=e("EMb8"),C=e("7+uW");C.a.component("Icon",w.a),C.a.component("Row",b.a),C.a.component("Col",D.a),C.a.component("Table",g.a),C.a.component("Select",d.a),C.a.component("Option",_.a),C.a.component("Tag",f.a),C.a.component("Page",v.a),C.a.component("Input",h.a),C.a.component("Button",m.a),C.a.component("Modal",p.a),C.a.component("InputNumber",u.a),C.a.component("Spin",c.a),C.a.component("i-switch",r);var T={name:"gateway_setting",components:{},props:{},data:function(){return{whetherData:[{value:"YES",label:"是"},{value:"NO",label:"否"}],protoData:[{value:"MQTT",label:"MQTT"},{value:"HTTP",label:"HTTP"}],qosData:[{value:0,label:"0"},{value:1,label:"1"}],setAllKey:!0,configData:{mac:"",action:"config",takeEffectImmediately:"NO",common:{proto:"MQTT",uploadInterval:1e3,disableLED:"NO",isLongBright:"NO",isUploadIBeacon:"YES",isUploadS1:"NO"},mqtt:{mUrl:"",qos:0,userName:"",passWord:""},http:{hUrl:"",httpUser:"",httpPass:""}}}},watch:{setAllKey:function(){!0===this.setAllKey&&(this.configData.mac="")}},computed:{},methods:{returnFn:function(){this.$router.go(-1)},changeProtoFn:function(){console.log(this.configData.common.proto),"MQTT"===this.configData.common.proto?this.configData.http={hUrl:"",httpUser:"",httpPass:""}:"HTTP"===this.configData.common.proto&&(this.configData.mqtt={mUrl:"",qos:0,userName:"",passWord:""})},saveConfigFn:function(){var t=this;this.setAllKey||""!==this.configData.mac.trim()?this.$Modal.confirm({title:"保存提示",okText:"确定",cancelText:"取消",content:'<span style="color:#f94040">你确定要保存当前配置吗？</span>',onOk:function(){console.log(t.configData)}}):this.$Message.error({title:"提示！",content:"请填写您要设置的网关mac地址"})}},created:function(){},mounted:function(){}},y={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"gateway_setting_wrap"},[e("div",{staticClass:"row_box hover_animat custom_bg_color_white"},[e("h2",{staticClass:"row_title"},[t._v("是否应用于所有网关")]),t._v(" "),e("div",{staticClass:"form_wrap"},[e("div",{staticClass:"form_item"},[e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:"8"}},[e("i-switch",{model:{value:t.setAllKey,callback:function(a){t.setAllKey=a},expression:"setAllKey"}},[e("span",{attrs:{slot:"open"},slot:"open"},[t._v("是")]),t._v(" "),e("span",{attrs:{slot:"close"},slot:"close"},[t._v("否")])])],1)],1)],1),t._v(" "),!1===t.setAllKey?e("div",{staticClass:"form_item"},[e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:"4"}},[e("h3",[t._v("输入要应用的网关mac地址")]),t._v(" "),e("Input",{attrs:{placeholder:"mac地址"},model:{value:t.configData.mac,callback:function(a){t.$set(t.configData,"mac",a)},expression:"configData.mac"}})],1)],1)],1):t._e()])]),t._v(" "),e("div",{staticClass:"row_wrap hover_animat custom_bg_color_white"},[e("div",{staticClass:"row_box"},[e("h2",{staticClass:"row_title"},[t._v("公共配置")]),t._v(" "),e("div",{staticClass:"form_wrap"},[e("div",{staticClass:"form_item"},[e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:"8"}},[e("h3",[t._v("是否立刻生效（默认为否）")]),t._v(" "),e("Select",{model:{value:t.configData.takeEffectImmediately,callback:function(a){t.$set(t.configData,"takeEffectImmediately",a)},expression:"configData.takeEffectImmediately"}},t._l(t.whetherData,function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])}),1)],1),t._v(" "),e("Col",{attrs:{span:"8"}},[e("h3",[t._v("上传间隔（单位：毫秒，默认1000）")]),t._v(" "),e("InputNumber",{staticStyle:{width:"100%"},attrs:{min:1e3,step:1e3,placeholder:"上传间隔"},model:{value:t.configData.common.uploadInterval,callback:function(a){t.$set(t.configData.common,"uploadInterval",a)},expression:"configData.common.uploadInterval"}})],1),t._v(" "),e("Col",{attrs:{span:"8"}},[e("h3",[t._v("协议选择（默认为MQTT）")]),t._v(" "),e("Select",{on:{"on-change":t.changeProtoFn},model:{value:t.configData.common.proto,callback:function(a){t.$set(t.configData.common,"proto",a)},expression:"configData.common.proto"}},t._l(t.protoData,function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])}),1)],1)],1)],1),t._v(" "),e("div",{staticClass:"form_item"},[e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:"8"}},[e("h3",[t._v("是否永远关闭彩灯（默认为否）")]),t._v(" "),e("Select",{model:{value:t.configData.common.disableLED,callback:function(a){t.$set(t.configData.common,"disableLED",a)},expression:"configData.common.disableLED"}},t._l(t.whetherData,function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])}),1)],1),t._v(" "),e("Col",{attrs:{span:"8"}},[e("h3",[t._v("顶部彩灯是否长亮（默认为否）")]),t._v(" "),e("Select",{model:{value:t.configData.common.isLongBright,callback:function(a){t.$set(t.configData.common,"isLongBright",a)},expression:"configData.common.isLongBright"}},t._l(t.whetherData,function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])}),1)],1)],1)],1),t._v(" "),e("div",{staticClass:"form_item"},[e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:"8"}},[e("h3",[t._v("是否上传ibeacon类型的数据（默认为是）")]),t._v(" "),e("Select",{model:{value:t.configData.common.isUploadIBeacon,callback:function(a){t.$set(t.configData.common,"isUploadIBeacon",a)},expression:"configData.common.isUploadIBeacon"}},t._l(t.whetherData,function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])}),1)],1),t._v(" "),e("Col",{attrs:{span:"8"}},[e("h3",[t._v("是否上传S1类型的数据（默认为否）")]),t._v(" "),e("Select",{model:{value:t.configData.common.isUploadS1,callback:function(a){t.$set(t.configData.common,"isUploadS1",a)},expression:"configData.common.isUploadS1"}},t._l(t.whetherData,function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])}),1)],1)],1)],1)])])]),t._v(" "),"MQTT"===t.configData.common.proto?e("div",{staticClass:"row_wrap hover_animat custom_bg_color_white"},[e("div",{staticClass:"row_box"},[e("h2",{staticClass:"row_title"},[t._v("MQTT配置")]),t._v(" "),e("div",{staticClass:"form_wrap"},[e("div",{staticClass:"form_item"},[e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:"8"}},[e("h3",[t._v("MQTT的url值")]),t._v(" "),e("Input",{attrs:{placeholder:"MQTT url值"},model:{value:t.configData.mqtt.mac,callback:function(a){t.$set(t.configData.mqtt,"mac",a)},expression:"configData.mqtt.mac"}})],1),t._v(" "),e("Col",{attrs:{span:"8"}},[e("h3",[t._v("MQTT QoS 等级（默认值0）")]),t._v(" "),e("Select",{model:{value:t.configData.mqtt.qos,callback:function(a){t.$set(t.configData.mqtt,"qos",a)},expression:"configData.mqtt.qos"}},t._l(t.qosData,function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])}),1)],1),t._v(" "),e("Col",{attrs:{span:"8"}},[e("h3",[t._v("MQTT服务器的用户名")]),t._v(" "),e("Input",{attrs:{placeholder:"MQTT用户名"},model:{value:t.configData.mqtt.userName,callback:function(a){t.$set(t.configData.mqtt,"userName",a)},expression:"configData.mqtt.userName"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"form_item"},[e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:"8"}},[e("h3",[t._v("MQTT服务器的密码")]),t._v(" "),e("Input",{attrs:{placeholder:"MQTT 密码"},model:{value:t.configData.mqtt.passWord,callback:function(a){t.$set(t.configData.mqtt,"passWord",a)},expression:"configData.mqtt.passWord"}})],1)],1)],1)])])]):e("div",{staticClass:"row_wrap hover_animat custom_bg_color_white"},[e("div",{staticClass:"row_box"},[e("h2",{staticClass:"row_title"},[t._v("HTTP配置")]),t._v(" "),e("div",{staticClass:"form_wrap"},[e("div",{staticClass:"form_item"},[e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:"8"}},[e("h3",[t._v("http的url值")]),t._v(" "),e("Input",{attrs:{placeholder:"http url值"},model:{value:t.configData.http.hUrl,callback:function(a){t.$set(t.configData.http,"hUrl",a)},expression:"configData.http.hUrl"}})],1),t._v(" "),e("Col",{attrs:{span:"8"}},[e("h3",[t._v("http用户名")]),t._v(" "),e("Input",{attrs:{placeholder:"http用户名"},model:{value:t.configData.http.httpUser,callback:function(a){t.$set(t.configData.http,"httpUser",a)},expression:"configData.http.httpUser"}})],1),t._v(" "),e("Col",{attrs:{span:"8"}},[e("h3",[t._v("http密码")]),t._v(" "),e("Input",{attrs:{placeholder:"http 密码"},model:{value:t.configData.http.httpPass,callback:function(a){t.$set(t.configData.http,"httpPass",a)},expression:"configData.http.httpPass"}})],1)],1)],1)])])]),t._v(" "),e("div",{staticClass:"row_wrap"},[e("Button",{attrs:{type:"primary",shape:"circle"},on:{click:t.saveConfigFn}},[t._v("保存配置")])],1)])},staticRenderFns:[]};var k=e("VU/8")(T,y,!1,function(t){e("mHox")},"data-v-1b2830be",null);a.default=k.exports},mHox:function(t,a){}});