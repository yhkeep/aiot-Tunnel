webpackJsonp([32],{ZBIn:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("woOf"),i=t.n(s),l=t("Fd2+"),r=(t("QP/A"),t("cnGM"),t("FDxC"),t("4T1P"),t("2PSJ"),t("i9vB"),t("jgNZ"),t("dKGA"),t("MHRi"),t("GKy3"),t("wDsp")),o=t("eJLk"),n={name:"mobile_assets_detail",components:{Button:l.b,CellGroup:l.d,Cell:l.c,Tag:l.z,ImagePreview:l.l,Row:l.t,Col:l.g,Dialog:l.i,Toast:l.A},props:{},data:function(){return{role:this.$store.state.role,statusColor:o.a,assetID:"",showRepair:!1,showScrap:!1,imgList:[],assetsDetailData:{assetID:"",generalName:"",assetName:"",location:"",specification:"",type:"",placeoforigin:"",brand:"",departmentcode:"",departmentroom:"",homeofficenumber:"",homeofficename:"",isentrance:"",suppliername:"",generatebusinessname:"",money:null,buyDate:"",locDept:"",status:"",recorder:"",mac:"",amount:null,unit:"",applyoddnumbers:"",oneclassify:"",secondclassify:"",threeclassify:"",fourclassify:"",sn:"",architecture:"",academy:"",repairPeople:"",repairDate:"",repairReason:"",scrapPeople:"",scrapDate:"",scrapReason:"",remark:""}}},watch:{},computed:{},methods:{imgPreviewFn:function(a){Object(l.l)({images:this.imgList,startPosition:a})},imgCom:function(a){return"background-image:url("+a+")"},toModifyFn:function(){this.$router.push("/mobile/assets_modify/"+this.assetID)},toDeleteFn:function(){var a=this;l.i.confirm({title:"提示！",message:'<span style="color:red;">你确定要删除此资产吗？</span>',confirmButtonColor:"red"}).then(function(){var e=l.A.loading({message:"正在删除...",forbidClick:!0,duration:0}),t=[];t.push(a.assetID),a.$axios.get(r.a.assetsDelete+t).then(function(t){"ok"===t.data.msg?(e.clear(),l.A.success("删除成功！"),setTimeout(function(){a.$router.go(-1)},1e3)):"failed"===t.data.msg&&(e.clear(),l.A.fail("删除失败！"))}).catch(function(a){e.clear(),l.A.fail("删除失败！")})}).catch(function(){})},getDataFn:function(){var a=this;this.$axios.post(r.a.assetsQuery+"?currentPage=1&assetID="+this.assetID).then(function(e){if(e.data[0].assetID){var t=e.data[0],s={assetID:t.assetID,generalName:t.generalName?t.generalName:"",assetName:t.assetName?t.assetName:"",location:t.location?t.location:"",specification:t.specification?t.specification:"",type:t.type?t.type:"",placeoforigin:t.placeoforigin?t.placeoforigin:"",brand:t.brand?t.brand:"",departmentcode:t.departmentcode?t.departmentcode:"",departmentroom:t.departmentroom?t.departmentroom:"",homeofficenumber:t.homeofficenumber?t.homeofficenumber:"",homeofficename:t.homeofficename?t.homeofficename:"",isentrance:t.isentrance?t.isentrance:"",suppliername:t.suppliername?t.suppliername:"",generatebusinessname:t.generatebusinessname?t.generatebusinessname:"",money:t.money?Number(t.money):0,buyDate:t.buyDate?t.buyDate:"",locDept:t.locDept?t.locDept:"",status:t.status?t.status:"",recorder:t.recorder?t.recorder:a.$store.state.user,mac:t.mac?t.mac:"",amount:t.amount?Number(t.amount):1,unit:t.unit?t.unit:"",applyoddnumbers:t.applyoddnumbers?t.applyoddnumbers:"",oneclassify:t.oneclassify?t.oneclassify:"",secondclassify:t.secondclassify?t.secondclassify:"",threeclassify:t.threeclassify?t.threeclassify:"",fourclassify:t.fourclassify?t.fourclassify:"",sn:t.sn?t.sn:"",architecture:t.architecture?t.architecture:"",academy:t.academy?t.academy:"",remark:t.remark?t.remark:""};a.buyTime=s.buyDate;var r={};switch(s.status){case"正常":a.showRepair=!1,a.showScrap=!1,r={repairPeople:"",repairDate:"",repairReason:"",scrapPeople:"",scrapDate:"",scrapReason:""};break;case"在修":r={repairPeople:t.repairPeople?t.repairPeople:"",repairDate:t.repairDate?t.repairDate:"",repairReason:t.repairReason?t.repairReason:"",scrapPeople:"",scrapDate:"",scrapReason:""},a.showScrap=!1,a.showRepair=!0;break;case"已报废":r={repairPeople:"",repairDate:"",repairReason:"",scrapPeople:t.scrapPeople?t.scrapPeople:"",scrapDate:t.scrapDate?t.scrapDate:"",scrapReason:t.scrapReason?t.scrapReason:""},a.showRepair=!1,a.showScrap=!0}var o={};i()(o,s,r),a.assetsDetailData=o,a.getImgFn("imgShow"),a.getImgFn("imgShowLeft"),a.getImgFn("imgShowAllround"),a.getImgFn("imgShowAbove"),a.getImgFn("imgShowRight"),a.getImgFn("imgShowPaperlabel"),a.getImgFn("imgShowOnecodelable")}else Object(l.o)({type:"danger",message:"未找到资产数据！"}),setTimeout(function(){a.$router.go(-1)},1e3)}).catch(function(a){})},getImgFn:function(a){var e=this;this.$axios.get(r.a[a]+this.assetID,{responseType:"arraybuffer"}).then(function(a){var t;"data:image/png;base64,"===(t="data:image/png;base64,"+btoa(new Uint8Array(a.data).reduce(function(a,e){return a+String.fromCharCode(e)},"")))||e.imgList.push(t)}).catch(function(a){})}},beforeRouteEnter:function(a,e,t){a.meta.needFresh=!1,t()},beforeRouteLeave:function(a,e,t){e.meta.needFresh=!1,t()},created:function(){this.$emit("setTitle","资产明细"),this.assetID=this.$route.params.id},mounted:function(){this.getDataFn()}},c={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"mobile_assets_detail_wrap"},[t("div",{staticClass:"assets_detail_box"},[t("div",{staticClass:"assets_img_wrap"},[a.imgList.length?t("div",{staticClass:"assets_img_box"},a._l(a.imgList,function(e,s){return t("div",{key:s,staticClass:"img_item_box",style:a.imgCom(e),on:{click:function(e){return a.imgPreviewFn(s)}}})}),0):t("div",{staticClass:"assets_img_info"},[t("span",[a._v("暂无图片")])])]),a._v(" "),t("Cell",{attrs:{title:"资产编号",value:""+(a.assetsDetailData.assetID?a.assetsDetailData.assetID:"--")}}),a._v(" "),t("Cell",{attrs:{title:"资产名称",value:""+(a.assetsDetailData.assetName?a.assetsDetailData.assetName:"--")}}),a._v(" "),t("Cell",{attrs:{title:"通用名称",value:""+(a.assetsDetailData.generalName?a.assetsDetailData.generalName:"--")}}),a._v(" "),t("Cell",{attrs:{title:"存放地点",value:""+(a.assetsDetailData.location?a.assetsDetailData.location:"--")}}),a._v(" "),t("Cell",{attrs:{title:"规格",value:""+(a.assetsDetailData.specification?a.assetsDetailData.specification:"--")}}),a._v(" "),t("Cell",{attrs:{title:"型号",value:""+(a.assetsDetailData.type?a.assetsDetailData.type:"--")}}),a._v(" "),t("Cell",{attrs:{title:"产地",value:""+(a.assetsDetailData.placeoforigin?a.assetsDetailData.placeoforigin:"--")}}),a._v(" "),t("Cell",{attrs:{title:"品牌",value:""+(a.assetsDetailData.brand?a.assetsDetailData.brand:"--")}}),a._v(" "),t("Cell",{attrs:{title:"部门编码",value:""+(a.assetsDetailData.departmentcode?a.assetsDetailData.departmentcode:"--")}}),a._v(" "),t("Cell",{attrs:{title:"部门名称",value:""+(a.assetsDetailData.departmentroom?a.assetsDetailData.departmentroom:"--")}}),a._v(" "),t("Cell",{attrs:{title:"大科室编码",value:""+(a.assetsDetailData.homeofficenumber?a.assetsDetailData.homeofficenumber:"--")}}),a._v(" "),t("Cell",{attrs:{title:"大科室名称",value:""+(a.assetsDetailData.homeofficename?a.assetsDetailData.homeofficename:"--")}}),a._v(" "),t("Cell",{attrs:{title:"所在科室名称",value:""+(a.assetsDetailData.locDept?a.assetsDetailData.locDept:"--")}}),a._v(" "),t("Cell",{attrs:{title:"供应商名称",value:""+(a.assetsDetailData.suppliername?a.assetsDetailData.suppliername:"--")}}),a._v(" "),t("Cell",{attrs:{title:"生产厂商名称",value:""+(a.assetsDetailData.generatebusinessname?a.assetsDetailData.generatebusinessname:"--")}}),a._v(" "),t("Cell",{attrs:{title:"是否进口",value:""+(a.assetsDetailData.isentrance?a.assetsDetailData.isentrance:"--")}}),a._v(" "),t("Cell",{attrs:{title:"原值",value:""+(a.assetsDetailData.money?a.assetsDetailData.money:"--")}}),a._v(" "),t("Cell",{attrs:{title:"入库时间",value:""+(a.assetsDetailData.buyDate?a.assetsDetailData.buyDate:"--")}}),a._v(" "),t("Cell",{attrs:{title:"状态"}},["正常"===a.assetsDetailData.status?t("Tag",{attrs:{size:"medium",color:a.statusColor[0]}},[a._v(a._s(a.assetsDetailData.status))]):"待维修"===a.assetsDetailData.status?t("Tag",{attrs:{size:"medium",color:a.statusColor[1]}},[a._v(a._s(a.assetsDetailData.status))]):"维修接单"===a.assetsDetailData.status?t("Tag",{attrs:{size:"medium",color:a.statusColor[2]}},[a._v(a._s(a.assetsDetailData.status))]):"待报废"===a.assetsDetailData.status?t("Tag",{attrs:{size:"medium",color:a.statusColor[3]}},[a._v(a._s(a.assetsDetailData.status))]):"报废"===a.assetsDetailData.status?t("Tag",{attrs:{size:"medium",color:a.statusColor[4]}},[a._v(a._s(a.assetsDetailData.status))]):"外借"===a.assetsDetailData.status?t("Tag",{attrs:{size:"medium",color:a.statusColor[5]}},[a._v(a._s(a.assetsDetailData.status))]):t("Tag",{attrs:{size:"medium",color:"#f7f7f7","text-color":"#515a6e"}},[a._v(a._s(a.assetsDetailData.status))])],1),a._v(" "),t("Cell",{attrs:{title:"录入人员",value:""+(a.assetsDetailData.recorder?a.assetsDetailData.recorder:"--")}}),a._v(" "),t("Cell",{attrs:{title:"一级分类",value:""+(a.assetsDetailData.oneclassify?a.assetsDetailData.oneclassify:"--")}}),a._v(" "),t("Cell",{attrs:{title:"二级分类",value:""+(a.assetsDetailData.secondclassify?a.assetsDetailData.secondclassify:"--")}}),a._v(" "),t("Cell",{attrs:{title:"三级分类",value:""+(a.assetsDetailData.threeclassify?a.assetsDetailData.threeclassify:"--")}}),a._v(" "),t("Cell",{attrs:{title:"四级分类",value:""+(a.assetsDetailData.fourclassify?a.assetsDetailData.fourclassify:"--")}}),a._v(" "),t("Cell",{attrs:{title:"标签mac",value:""+(a.assetsDetailData.mac?a.assetsDetailData.mac:"--")}}),a._v(" "),t("Cell",{attrs:{title:"数量",value:""+(a.assetsDetailData.amount?a.assetsDetailData.amount:"--")}}),a._v(" "),t("Cell",{attrs:{title:"单位",value:""+(a.assetsDetailData.unit?a.assetsDetailData.unit:"--")}}),a._v(" "),t("Cell",{attrs:{title:"处置单号",value:""+(a.assetsDetailData.applyoddnumbers?a.assetsDetailData.applyoddnumbers:"--")}}),a._v(" "),t("Cell",{attrs:{title:"SN",value:""+(a.assetsDetailData.sn?a.assetsDetailData.sn:"--")}}),a._v(" "),t("Cell",{attrs:{title:"建筑",value:""+(a.assetsDetailData.architecture?a.assetsDetailData.architecture:"--")}}),a._v(" "),t("Cell",{attrs:{title:"院区",value:""+(a.assetsDetailData.academy?a.assetsDetailData.academy:"--")}}),a._v(" "),t("Cell",{directives:[{name:"show",rawName:"v-show",value:a.showRepair,expression:"showRepair"}],attrs:{title:"维修人员",value:""+(a.assetsDetailData.repairPeople?a.assetsDetailData.repairPeople:"--")}}),a._v(" "),t("Cell",{directives:[{name:"show",rawName:"v-show",value:a.showRepair,expression:"showRepair"}],attrs:{title:"维修起止时间段",value:""+(a.assetsDetailData.repairDate?a.assetsDetailData.repairDate:"--")}}),a._v(" "),t("Cell",{directives:[{name:"show",rawName:"v-show",value:a.showRepair,expression:"showRepair"}],attrs:{title:"维修原因",value:""+(a.assetsDetailData.repairReason?a.assetsDetailData.repairReason:"--")}}),a._v(" "),t("Cell",{directives:[{name:"show",rawName:"v-show",value:a.showScrap,expression:"showScrap"}],attrs:{title:"报废人员",value:""+(a.assetsDetailData.scrapPeople?a.assetsDetailData.scrapPeople:"--")}}),a._v(" "),t("Cell",{directives:[{name:"show",rawName:"v-show",value:a.showScrap,expression:"showScrap"}],attrs:{title:"报废时间",value:""+(a.assetsDetailData.scrapDate?a.assetsDetailData.scrapDate:"--")}}),a._v(" "),t("Cell",{directives:[{name:"show",rawName:"v-show",value:a.showScrap,expression:"showScrap"}],attrs:{title:"报废原因",value:""+(a.assetsDetailData.scrapReason?a.assetsDetailData.scrapReason:"--")}}),a._v(" "),t("Cell",{attrs:{title:"备注",value:""+(a.assetsDetailData.remark?a.assetsDetailData.remark:"--")}}),a._v(" "),t("div",{staticClass:"tools_wrap"},[t("Button",{staticClass:"tools_button",attrs:{round:"",type:"warning"},on:{click:a.toModifyFn}},[a._v("修改")]),a._v(" "),"admin"===a.role?t("Button",{staticClass:"tools_button",attrs:{round:"",type:"danger"},on:{click:a.toDeleteFn}},[a._v("删除")]):a._e()],1)],1)])},staticRenderFns:[]};var D=t("VU/8")(n,c,!1,function(a){t("hDvr")},"data-v-2dd81f87",null);e.default=D.exports},hDvr:function(a,e){}});