webpackJsonp([36],{KEjP:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("mvHQ"),n=e.n(o),i=e("p8P9"),s=e("wdqF"),r=e("8sRp"),c=e("KxKW"),l=e("bzvv"),p=e("JtJ0"),u=e("X2sI"),m=e("LuSo"),h=e("9N2q"),v=e("NAz/"),d=e("a84E"),_=e("EMb8"),D=e("7+uW"),f=e("bkN4"),b=e("wDsp");D.a.component("Icon",_.a),D.a.component("Row",d.a),D.a.component("Col",v.a),D.a.component("DatePicker",h.a),D.a.component("Select",m.a),D.a.component("Option",u.a),D.a.component("Input",p.a),D.a.component("InputNumber",l.a),D.a.component("Button",c.a),D.a.component("Modal",r.a),D.a.component("Spin",s.a),D.a.component("AutoComplete",i.a);var C={name:"temp_create",components:{},props:{},data:function(){return{uploadModal:!1,achieveUpload:!1,errorUpload:!1,createData:{no:"",name:"",depart:"",position:"",mac:"",type:"",tempTop:null,tempBottom:null,humTop:null,humBottom:null},departData:f.a,instrumentData:[{value:"s1",label:"s1"},{value:"s1-w",label:"s1-w"},{value:"p-01",label:"p-01（只有温度监控）"},{value:"p-02",label:"p-02"}],inputData:[],inputDataAll:[]}},watch:{},computed:{},methods:{handleSearchFn:function(t){this.inputData=this.inputDataAll.filter(function(a){return a.toLowerCase().indexOf(t.toLowerCase())>-1})},inputBlurFn:function(){this.inputDataAll=[],this.inputData=[]},inputFocusFn:function(t){var a=this;this.inputDataAll=[],this.inputData=[];var e=[],o={};o[t]="1",e.push(o),this.$axios.post(b.a.inputQuery,e).then(function(e){e.data.data.forEach(function(e,o){a.inputDataAll.find(function(a){return a===e[t]})||a.inputDataAll.push(e[t])}),setTimeout(function(){a.inputData=JSON.parse(n()(a.inputDataAll))},300)}).catch(function(t){console.log(t)})},createFn:function(){if(this.createData.no.trim()&&this.createData.depart.trim()&&this.createData.name.trim()&&this.createData.mac.trim()&&this.createData.type.trim()){if(this.createData.tempBottom&&this.createData.tempTop){if(this.createData.tempBottom===this.createData.tempTop)return void this.$Modal.warning({title:"提示！",content:"温度上下限不能相等！"});if(this.createData.tempBottom>this.createData.tempTop)return void this.$Modal.warning({title:"提示！",content:"温度上限不能小于下限！"})}if(this.createData.humBottom&&this.createData.humTop){if(this.createData.humBottom===this.createData.humTop)return void this.$Modal.warning({title:"提示！",content:"湿度上下限不能相等！"});if(this.createData.humBottom>this.createData.humTop)return void this.$Modal.warning({title:"提示！",content:"湿度上限不能小于下限！"})}this.uploadModal=!0;this.createData.no.trim(),this.createData.name.trim(),this.createData.depart.trim(),this.createData.position.trim(),this.createData.mac.trim(),this.createData.type.trim(),this.createData.tempTop,this.createData.tempBottom,this.createData.humTop,this.createData.humBottom}else this.$Message.error({content:"请补充完整信息!",duration:2})}},created:function(){},mounted:function(){}},w={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"temp_create_wrap"},[e("div",{staticClass:"hover_animat custom_bg_color_white"},[e("div",{staticClass:"row_box"},[e("h2",{staticClass:"row_title"},[t._v("温湿度仪器新增")]),t._v(" "),e("div",{staticClass:"form_wrap"},[e("div",{staticClass:"form_item"},[e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:"6"}},[e("h3",[t._v("编号"),e("span",{staticClass:"must_fill_info"},[t._v("（必填）")])]),t._v(" "),e("Input",{attrs:{placeholder:"仪器编号"},model:{value:t.createData.no,callback:function(a){t.$set(t.createData,"no",a)},expression:"createData.no"}})],1),t._v(" "),e("Col",{attrs:{span:"6"}},[e("h3",[t._v("名称")]),t._v(" "),e("Input",{attrs:{placeholder:"仪器名称"},model:{value:t.createData.name,callback:function(a){t.$set(t.createData,"name",a)},expression:"createData.name"}})],1),t._v(" "),e("Col",{attrs:{span:"6"}},[e("h3",[t._v("科室"),e("span",{staticClass:"must_fill_info"},[t._v("（必填）")])]),t._v(" "),e("AutoComplete",{attrs:{placeholder:"所在科室名称"},on:{"on-focus":function(a){return t.inputFocusFn("locDept")},"on-blur":t.inputBlurFn,"on-search":t.handleSearchFn},model:{value:t.createData.depart,callback:function(a){t.$set(t.createData,"depart",a)},expression:"createData.depart"}},t._l(t.inputData,function(a){return e("Option",{key:a,attrs:{value:a}},[t._v(t._s(a))])}),1)],1),t._v(" "),e("Col",{attrs:{span:"6"}},[e("h3",[t._v("所在位置")]),t._v(" "),e("Input",{attrs:{placeholder:"所在位置"},model:{value:t.createData.position,callback:function(a){t.$set(t.createData,"position",a)},expression:"createData.position"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"form_item"},[e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:"6"}},[e("h3",[t._v("mac地址"),e("span",{staticClass:"must_fill_info"},[t._v("（必填）")])]),t._v(" "),e("Input",{attrs:{placeholder:"mac地址"},model:{value:t.createData.mac,callback:function(a){t.$set(t.createData,"mac",a)},expression:"createData.mac"}})],1),t._v(" "),e("Col",{attrs:{span:"6"}},[e("h3",[t._v("仪器类型"),e("span",{staticClass:"must_fill_info"},[t._v("（必填）")])]),t._v(" "),e("Select",{model:{value:t.createData.type,callback:function(a){t.$set(t.createData,"type",a)},expression:"createData.type"}},t._l(t.instrumentData,function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.label))])}),1)],1)],1)],1),t._v(" "),e("div",{staticClass:"form_item"},[e("Row",{attrs:{gutter:20}},[e("Col",{attrs:{span:"6"}},[e("h3",[t._v("温度上限（℃）")]),t._v(" "),e("InputNumber",{staticStyle:{width:"100%"},model:{value:t.createData.tempTop,callback:function(a){t.$set(t.createData,"tempTop",a)},expression:"createData.tempTop"}})],1),t._v(" "),e("Col",{attrs:{span:"6"}},[e("h3",[t._v("温度下限（℃）")]),t._v(" "),e("InputNumber",{staticStyle:{width:"100%"},model:{value:t.createData.tempBottom,callback:function(a){t.$set(t.createData,"tempBottom",a)},expression:"createData.tempBottom"}})],1),t._v(" "),e("Col",{attrs:{span:"6"}},[e("h3",[t._v("湿度上限（%）")]),t._v(" "),e("InputNumber",{staticStyle:{width:"100%"},attrs:{max:100,min:0},model:{value:t.createData.humTop,callback:function(a){t.$set(t.createData,"humTop",a)},expression:"createData.humTop"}})],1),t._v(" "),e("Col",{attrs:{span:"6"}},[e("h3",[t._v("湿度下限（%）")]),t._v(" "),e("InputNumber",{staticStyle:{width:"100%"},attrs:{max:100,min:0},model:{value:t.createData.humBottom,callback:function(a){t.$set(t.createData,"humBottom",a)},expression:"createData.humBottom"}})],1)],1)],1)]),t._v(" "),e("div",{staticClass:"submit_btn_wrap"},[e("Button",{attrs:{type:"primary",shape:"circle"},on:{click:t.createFn}},[t._v("确定新增")])],1)])]),t._v(" "),e("Modal",{attrs:{title:"","footer-hide":!0,"mask-closable":!1,closable:!1,width:"360"},model:{value:t.uploadModal,callback:function(a){t.uploadModal=a},expression:"uploadModal"}},[e("div",{staticStyle:{"text-align":"center",padding:"20px 0"}},[t.achieveUpload||t.errorUpload?t._e():e("Spin",{attrs:{fix:""}},[e("Icon",{staticClass:"loding_icon",attrs:{type:"ios-loading",size:"18"}}),t._v(" "),e("div",[t._v("正在上传")])],1),t._v(" "),t.achieveUpload?e("Spin",{staticStyle:{color:"#00ad19"},attrs:{fix:""}},[e("Icon",{attrs:{type:"ios-checkmark-circle",size:"18"}}),t._v(" "),e("div",[t._v("上传成功")])],1):t._e(),t._v(" "),t.errorUpload?e("Spin",{staticStyle:{color:"#f72b2b"},attrs:{fix:""}},[e("Icon",{attrs:{type:"ios-close-circle",size:"18"}}),t._v(" "),e("div",[t._v("上传失败")])],1):t._e()],1)])],1)},staticRenderFns:[]};var x=e("VU/8")(C,w,!1,function(t){e("tR+S")},"data-v-066ad85f",null);a.default=x.exports},"tR+S":function(t,a){}});